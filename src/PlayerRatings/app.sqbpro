<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="D:/OneDrive/SingaporeWeiqi/app.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="5914"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="AspNetUsers" custom_title="0" dock_id="6" table="4,11:mainAspNetUsers"/><dock_state state="000000ff00000000fd00000001000000020000081e000004fcfc0100000004fb000000160064006f0063006b00420072006f00770073006500310100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500320100000000ffffffff0000000000000000fc00000000000008b30000000000fffffffa000000000100000003fb000000160064006f0063006b00420072006f00770073006500330100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500340000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500350000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f007700730065003601000000000000081e0000013500ffffff0000081e0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="AspNetRoleClaims" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="22"/><column index="2" value="71"/><column index="3" value="78"/><column index="4" value="52"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AspNetUserRoles" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="52"/><column index="2" value="52"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="AspNetUsers" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="15" mode="0"/></sort><column_widths><column index="1" value="295"/><column index="2" value="127"/><column index="3" value="295"/><column index="4" value="175"/><column index="5" value="106"/><column index="6" value="106"/><column index="7" value="78"/><column index="8" value="175"/><column index="9" value="175"/><column index="10" value="300"/><column index="11" value="85"/><column index="12" value="148"/><column index="13" value="263"/><column index="14" value="120"/><column index="15" value="175"/><column index="16" value="238"/><column index="17" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Match" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="295"/><column index="2" value="295"/><column index="3" value="159"/><column index="4" value="50"/><column index="5" value="295"/><column index="6" value="120"/><column index="7" value="295"/><column index="8" value="295"/><column index="9" value="127"/><column index="10" value="245"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">delete from LeaguePlayer
WHERE UserId in (
select u.id
from AspNetUsers u
where u.id not in (select DISTINCT FirstPlayerId from Match UNION all select DISTINCT SecondPlayerId from Match ) and UserName like 'lu.jn@sw.org'
);

delete from Invite
WHERE CreatedUserId in (
select u.id
from AspNetUsers u
where u.id not in (select DISTINCT FirstPlayerId from Match UNION all select DISTINCT SecondPlayerId from Match ) and UserName like 'lu.jn@sw.org'
);

delete
from AspNetUsers
where id not in (select DISTINCT FirstPlayerId from Match UNION all select DISTINCT SecondPlayerId from Match ) and UserName like 'lu.jn@sw.org';

select u.id
from AspNetUsers u
where u.id not in (select DISTINCT FirstPlayerId from Match UNION all select DISTINCT SecondPlayerId from Match ) and UserName like 'lu.jn@sw.org'
</sql><sql name="SQL 2">update AspNetUsers
set DisplayName = replace(DisplayName, '[Adv. Kyu]', '[Kyu]')

update Match
set MatchName = replace (MatchName, 'ShouTan Cup Open 手谈杯公开组', 'ShouTan Cup 手谈杯')

UPDATE Match
SET Factor = 0.5
WHERE MatchName = 'TGA Kyu Cert. 级位赛 C'</sql><sql name="SQL 3">select m.* , m.date
from Match m inner join AspNetUsers u on (m.FirstPlayerId = u.id or m.SecondPlayerId = u.id) and u.DisplayName like '%simiao%'
order by date</sql><sql name="SQL 5">select u.DisplayName as Player, m.MatchName,
	(case
		when cast(m.Date as bigint)/10000000000 &gt; 130808974 then 2025
		when cast(m.Date as bigint)/100000000000000 &gt; 13074 then 2024
		else 2023
		end) as Year,
	fp.DisplayName as Winner, sp.DisplayName as Loser
from Match m inner join AspNetUsers u on (m.FirstPlayerId = u.id or m.SecondPlayerId = u.id) and (u.DisplayName like '%jimmy%')
	INNER JOIN AspNetUsers fp ON m.FirstPlayerId = fp.Id
	INNER JOIN AspNetUsers sp ON m.SecondPlayerId = sp.Id
order by u.DisplayName, m.Date</sql><sql name="SQL 6">select * from Match where Factor is not NULL</sql><sql name="SQL 6">select * from AspNetUsers
where Ranking like '%(%)%' and Ranking not like '%BY%' and DisplayName not like '[%]'</sql><current_tab id="3"/></tab_sql></sqlb_project>
